package com.htrfid.financeapp.controller;

import java.util.Date;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.htrfid.finance.vo.WmTaxRateEntryFilterVo;
import com.htrfid.finance.vo.WmTaxRateEntryResp;
import com.htrfid.financeapp.service.WmEmployeeIncomeTaxService;
import com.htrfid.util.Result;

/**
 * 
 * @Title:  WmEmployeeIncomeTaxController.java   
 * @Package: com.htrfid.financeapp.controller   
 * @Description: 所得税计算
 * @author: zhengfei  
 * @Email: 936864724@qq.com   
 * @date: 2018年12月11日 上午8:55:57   
 * @version V1.0 
 *
 */
@RequestMapping("incomeTax")
@RestController
public class WmEmployeeIncomeTaxController {

	
	@Autowired
	private WmEmployeeIncomeTaxService wmEmployeeIncomeTaxService;
	
	/**
	 * 
	 * @Title: initPage   
	 * @Description: 页面初始化
	 * @author: zhengfei
	 * @Email: 936864724@qq.com
	 * @date: 2018年12月11日 上午8:59:31
	 * @return          
	 * @throws
	 */
	@RequestMapping("initPage")
		public Result initPage(@RequestParam(value="categoryId" , required=false)Long categoryId,@RequestParam(value="dataType",required=false)Integer dataType) {
		try {
			return wmEmployeeIncomeTaxService.initPage(categoryId,dataType);
		} catch (Exception e) {
			e.printStackTrace();
			return Result.error("页面初始化失败");
		}
	}
	
	/**
	 * 
	 * @Title: taxRateEntry   
	 * @Description: 所得税录入
	 * @author: zhengfei
	 * @Email: 936864724@qq.com
	 * @date: 2018年12月12日 下午3:16:36
	 * @param filterVo
	 * @return          
	 * @throws
	 */
	@RequestMapping("listTaxRateEntry")
	public Result taxRateEntry(@RequestBody WmTaxRateEntryFilterVo filterVo) {
		return wmEmployeeIncomeTaxService.listTaxRateEntry(filterVo);
	}
	
	
	/**
	 * 
	 * @Title: saveCliTaxRate   
	 * @Description: 保存页面录入的数据
	 * @author: zhengfei
	 * @Email: 936864724@qq.com
	 * @date: 2018年12月13日 下午5:21:10
	 * @param list
	 * @return          
	 * @throws
	 */
	@RequestMapping(value = "/saveCliTaxRate")
	Result saveCliTaxRate(@RequestBody List<WmTaxRateEntryResp> list) {
		return wmEmployeeIncomeTaxService.saveCliTaxRate(list);
	}
	
	
	/**
	 * 
	 * @Title: cliTaxRate   
	 * @Description: 计算工资数据或计算税率
	 * @author: zhengfei
	 * @Email: 936864724@qq.com
	 * @date: 2018年12月13日 下午2:23:26
	 * @param respList
	 * @return          
	 * @throws
	 */
	@RequestMapping(value = "/cliTaxRate")
	Result cliTaxRate(@RequestBody List<WmTaxRateEntryResp> respList) {
		return wmEmployeeIncomeTaxService.cliTaxRate(respList);
	}
	
	
	/**
	 * 
	 * @Title: exportExcel   
	 * @Description: 导出
	 * @author: zhengfei
	 * @Email: 936864724@qq.com
	 * @date: 2018年12月25日 下午2:24:33
	 * @return          
	 * @throws
	 */
	@RequestMapping("/exportExcel")
	public Result exportExcel(@RequestParam("categoryId")Long categoryId,@RequestParam("sobId")Long sobId,
								@RequestParam("empCode")String empCode,@RequestParam("empName")String empName,
								@RequestParam("idCard")String idCard,@RequestParam("depId")Long depId,
								@RequestParam("empStation")String empStation,@RequestParam("empRank")String empRank,
								@RequestParam("stationLevel")String stationLevel,@RequestParam("empEdu")String empEdu,
								@RequestParam("empStatus")Integer empStatus,@RequestParam("year")Integer year,
								@RequestParam("period")Integer period,
								@RequestParam("entryStartDate")Date entryStartDate,@RequestParam("entryEndDate")Date entryEndDate){
		WmTaxRateEntryFilterVo filterVo = new WmTaxRateEntryFilterVo();
		filterVo.setCategoryId(categoryId);
		filterVo.setSobId(sobId);
		filterVo.setEmpCode(empCode);
		filterVo.setEmpName(empName);
		filterVo.setIdCard(idCard);
		filterVo.setDepId(depId);
		filterVo.setEmpStation(empStation);
		filterVo.setEmpRank(empRank);
		filterVo.setStationLevel(stationLevel);
		filterVo.setEmpEdu(empEdu);
		filterVo.setYear(year);
		filterVo.setPeriod(period);
		filterVo.setEntryEndDate(entryEndDate);
		filterVo.setEntryStartDate(entryStartDate);
		
		
		
		
		return null;
	}
	
	
}
