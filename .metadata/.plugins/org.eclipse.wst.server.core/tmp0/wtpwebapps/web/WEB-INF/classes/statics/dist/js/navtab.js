"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};layui.define(["element"],function(t){var a=layui.element(),r=layui.jquery,c=void 0===parent.layer?layui.layer:parent.layer,f=0,e=function(){this.config={elem:void 0,closed:!0}},s={};e.prototype.set=function(t){return r.extend(!0,this.config,t),this},e.prototype.init=function(){var t,e=this.config;"string"!=typeof e.elem&&"object"!==_typeof(e.elem)&&c.alert("Tab选项卡错误提示: elem参数未定义或设置出错，具体设置格式请参考文档API."),"string"==typeof e.elem&&(t=r(""+e.elem)),"object"===_typeof(e.elem)&&(t=e.elem),0===t.length&&c.alert("Tab选项卡错误提示:找不到elem参数配置的容器，请检查.");var i=t.attr("lay-filter");return void 0!==i&&""!==i||c.alert("Tab选项卡错误提示:请为elem容器设置一个lay-filter过滤器"),e.elem=t,s.titleBox=t.children("ul.layui-tab-title"),s.contentBox=t.children("div.layui-tab-content"),s.tabFilter=i,this},e.prototype.exists=function(i){void 0===s.titleBox&&this.init();var n=-1;return s.titleBox.find("li").each(function(t,e){r(this).children("em").text()===i&&(n=t)}),n},e.prototype.tabAdd=function(t){var e=this,i=e.exists(t.title);if(-1===i){var n='<iframe id="iframe'+ ++f+'" src="'+t.href+'" data-id="'+f+'" class="larry-iframe"></iframe>',o="";void 0!==t.icon&&(-1!==t.icon.indexOf("fa-")?o+='<i class="'+t.icon+'"></i>':o+='<i class="layui-icon ">'+t.icon+"</i>"),o+="<em>"+t.title+"</em>",e.config.closed&&(o+='<i class="layui-icon layui-unselect layui-tab-close" data-id="'+f+'">&#x1006;</i>'),a.tabAdd(s.tabFilter,{title:o,content:n});var l=c.load(0,{shade:!1});r("#iframe"+f).load(function(){c.close(l)}),s.contentBox.find("iframe[data-id="+f+"]").each(function(){r(this).height(s.contentBox.height())}),e.config.closed&&s.titleBox.find("li").children("i.layui-tab-close[data-id="+f+"]").on("click",function(){a.tabDelete(s.tabFilter,r(this).parent("li").index()).init()}),a.tabChange(s.tabFilter,s.titleBox.find("li").length-1)}else a.tabChange(s.tabFilter,i)};var i=new e;t("navtab",function(t){return i.set(t)})});