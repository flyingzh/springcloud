"use strict";var vm=new Vue({el:"#profitLossTransfer",data:function(){return{isPosting:!1,unPosting:!1,voucherGroupNo:2,complete:!1,isShow:!1,voucherGroups:[],body:{voucherDate:"",voucherGroup:"",explanation:"结转本期损益"},subjectData:{},subjectVisable:!1,resultStr:""}},methods:{showSubjectTree:function(){this.subjectVisable=!0},subjectClose:function(){this.subjectVisable=!1},subjectCheck:function(t){console.log(t),this.body.accountCode=t.code,console.log(this.body.accountCode)},subjectSave:function(t){this.subjectData=t},cancel:function(){this.$refs.vDate.date="",this.body={voucherDate:"",voucherGroup:"",explanation:""}},queryVoucherGroup:function(){var t=rcContextPath+"/finalOperate/queryVoucherGroup";$.ajax({type:"post",async:!0,data:{sobId:1},url:t,success:function(t){vm.voucherGroups=t.data},error:function(t){console.log(t)}})},checkNoPosting:function(){var t=rcContextPath+"/finalOperate/checkNoPosting";$.ajax({type:"post",async:!0,data:{sobId:1},url:t,success:function(t){vm.isPosting=t.data,vm.unPosting=t.data},error:function(t){console.log(t)}})},finished:function(){var o={};this.voucherGroups.forEach(function(t){t.name==vm.body.voucherGroup&&(o.voucherDataEntity=t)}),o.accountSubjectEntity=this.subjectData,o.voucherDate=this.body.voucherDate,o.explanation=this.body.explanation,o.sobId=1;var t=rcContextPath+"/finalOperate/lossAndGainBroughtForward";$.ajax({type:"post",async:!0,data:JSON.stringify(o),url:t,contentType:"application/json;charset=utf-8",success:function(t){vm.resultStr=t.data},error:function(t){console.log(t)}}),this.complete=!0}},created:function(){this.queryVoucherGroup(),this.checkNoPosting()},mounted:function(){}});