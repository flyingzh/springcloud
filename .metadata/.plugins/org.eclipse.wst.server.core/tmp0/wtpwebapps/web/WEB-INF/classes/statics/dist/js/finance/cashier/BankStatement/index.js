"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve=new Vue({el:"#bankStatement",data:function(){var a=this;return{seletedIds:[],importSelected:[],sobId:"",openTime:"",filterVisible:!1,subjectVisable:!1,selectListId:[],subjectChangeAjax:"",baseData:{standardCurrencyId:0,subjectName:"",bankAccountNumber:"",currencyName:"",periodDate:"",cnCurrentAccountYear:"",cnCurrentAccountPeriod:""},openData:{sobId:"",subjectId:"",currencyId:"",type:1,startDate:"",endDate:"",startYear:"",startPeriod:"",endYear:"",endPeriod:"",explains:"",createId:"",startDebitFor:"",endDebitFor:"",startCreditFor:"",endCreditFor:"",isCheck:-1,showInitBalance:!0,showDetailRecord:!0,showDaySum:!0,showPeriodSum:!0,showYearSum:!0,showTotalSum:!0,subjectCode:"",subjectName:"",relateSubjectId:"",openCurrencyList:[],isCheckList:[{id:-1,name:"全部"},{id:1,name:"未勾对"},{id:2,name:"已勾对"}]},addData:{id:"",datetime:"",accountYear:"",accountPeriod:"",direction:"",subjectId:"",subjectCode:"",subjectName:"",currencyId:"",periodDate:"",summary:"",debitAmountFor:"",debitAmountForRate:"",debitAmount:"",creditAmountFor:"",creditAmountForRate:"",creditAmount:"",exchangeRate:1,isTick:"",tickTime:"",dataSource:0,isCarryOver:0,remark:"",accountNumber:""},editData:{id:"",datetime:"",accountYear:"",accountPeriod:"",direction:"",subjectId:"",subjectCode:"",subjectName:"",currencyId:"",periodDate:"",summary:"",debitAmountFor:"",debitAmountForRate:"",debitAmount:"",creditAmountFor:"",creditAmountForRate:"",creditAmount:"",exchangeRate:"",remark:"",accountNumber:"",editCurrencyList:[]},importData:{subjectId:"",currencyId:"",accountYear:"",accountPeriod:"",accountNumber:"",exchangeRate:"",fileList:[]},ClearImportData:{subjectId:"",currencyId:"",accountYear:"",accountPeriod:"",accountNumber:"",exchangeRate:"",fileList:[]},clearOpenData:{explains:"",createId:"",startDebitFor:"",endDebitFor:"",startCreditFor:"",endCreditFor:"",isCheck:-1},subjectList:[],periodList:[],periodYear:[],dataList:[],createrList:[],lodoPList:[],organisationList:[],printInfo:{},printModal:!1,importModal:!1,remarkVisable:!1,remarklist:[],base_config:{multiselect:!0,mtype:"POST",styleUI:"Bootstrap",url:contextPath+"/bankstatementappcontroller/bankStatementDetail",ajaxGridOptions:{contentType:"application/json;charset=utf-8"},datatype:"json",jsonReader:{root:"data.resultVOs"},viewrecords:!0,rowNum:999999999,beforeRequest:function(){a.selectListId=[]},onCellSelect:function(t){var e=jQuery("#list").jqGrid("getRowData",t);console.log(e,"选中单行数据---------=>")},onSelectAll:function(t,e){a.handleSelectedIds(t,e,"seletedIds")},onSelectRow:function(t,e){a.handleSelectedIds(t,e,"seletedIds"),console.log("当前选择的单个id==="+t)},ondblClickRow:function(t){},gridComplete:function(){$("table[id='list'] tr[id='null'] input").attr("style","display:none"),$("table[id='list'] tr[id='0'] input").attr("style","display:none")}},colNames:[],colModel:[],tableHeaders:[],addVisible:!1,addOrUpdateTitle:""}},methods:{getImportId:function(){var e=this;this.importData.importId=[],this.importSelected.map(function(t){e.importData.importId.push(e.importTableList[t-1].id)})},clickDigest:function(){this.remarkVisable=!0},onDblclickRemarkRow:function(t){this.openData.explains=t.content,this.remarkVisable=!1},onRemarkModalChange:function(t){this.remarkVisable=t},onRemarkListChange:function(t){this.remarklist=t},detailAction:function(t){var e=this;if("add"===t)Object.assign(e.editData,e.addData),e.bookDateChange(e.editData.datetime),e.addVisible=!0,e.addOrUpdateTitle="银行对账单-新增";else if("edit"===t){var a=e.seletedIds.filter(function(t){return!!t});if(1!=a.length)return void e.$Message.warning({content:"请只选择一条数据",duration:3,closable:!0});Object.assign(e.editData,e.addData);var n=$.ajax({type:"post",url:contextPath+"/bankstatementappcontroller/getObjectById",data:{id:a[0]},dataType:"json"}),r={};n.then(function(t){if(console.log("银行对账单查看点击修改按钮返回的data: ----\x3e"),console.log(t.data),"100100"==t.code)return r=t.data,e.editData.sobId=r.sobId,e.editData.subjectId=r.subjectId,$.ajax({type:"post",url:contextPath+"/cnbankdepositjournalappcontroller/subjectChange",data:{subjectId:e.editData.subjectId}});e.$Message.error({content:t.msg,duration:3,closable:!0})}).done(function(t){e.editData.editCurrencyList=t.data,e.editData.exchangeRate=r.exchangeRate,e.editData.debitAmountForRate=r.exchangeRate,e.editData.creditAmountForRate=r.exchangeRate,e.editData.accountPeriod=r.accountPeriod,e.editData.remark=r.remark,e.editData.datetime=r.datetime,e.editData.periodDate=r.accountYear+"年"+r.accountPeriod+"期",e.editData.id=r.id,e.editData.currencyId=r.currencyId,e.editData.direction=r.direction,e.editData.summary=r.summary,e.editData.isCarryOver=r.isCarryOver,e.editData.accountYear=r.accountYear,e.editData.creditAmount=r.creditAmount,e.editData.creditAmountFor=r.creditAmountFor,e.editData.debitamount=r.debitamount,e.editData.debitAmountFor=r.debitAmountFor,e.editData.accountNumber=r.accountNumber,e.editData.dataSource=r.dataSource,e.addVisible=!0,e.addOrUpdateTitle="银行对账单-修改"})}},closeAddVisible:function(){this.addVisible=!1},importAction:function(t){this.importModal=t},showSubjectVisable:function(){this.subjectVisable=!0},subjectClose:function(){this.subjectVisable=!1},subjectData:function(t){console.log(t,"====treeNode"),this.openData.subjectId=t.id,this.openData.subjectCode=t.subjectCode,this.openData.subjectName=t.subjectName,this.subjectClose()},openSave:function(){var a=this;$.each(a.openData.openCurrencyList,function(t,e){a.openData.currencyId===e.currencyId&&(a.baseData.currencyName=e.currencyName,a.openData.currencyName=e.currencyName)}),$.each(a.subjectList,function(t,e){a.openData.subjectId===e.accountId&&(a.baseData.subjectName=e.accountName,a.openData.subjectName=e.accountName,a.baseData.bankAccountNumber=e.bankAccount,a.openData.bankAccountNumber=e.bankAccount)}),this.initMethod()},editSave:function(){var e=this,t=e.editData;t.creditAmountForRate?t.exchangeRate=t.creditAmountForRate:t.exchangeRate=t.debitAmountForRate,t.summary?t.debitAmountFor||t.creditAmountFor?(console.log("新增/修改时准备传回后台的参数 : "),console.log(t),$.ajax({type:"post",url:contextPath+"/bankstatementappcontroller/saveOrUpdate",data:JSON.stringify(t),contentType:"application/json;charset=utf-8",dataType:"json",success:function(t){"100100"==t.code?(layer.alert(t.msg),e.addVisible=!1,Object.assign(e.editData,e.addData),e.initMethod()):layer.alert(t.msg)}})):e.$Message.error("请输入借方金额或贷方金额"):e.$Message.error("摘要不能为空")},save:function(t){switch(t){case"open":this.openSave();break;case"edit":this.editSave();break;case"import":this.importSave();break;case"voucher":this.voucherSave()}this.filterVisible=!1},cancel:function(t){switch(t){case"open":Object.assign(this.openData,this.clearOpenData),this.filterVisible=!1;break;case"edit":Object.assign(this.editData,this.addData),this.addVisible=!1;break;case"import":Object.assign(this.importData,this.ClearImportData)}this.filterVisible=!1},outHtml:function(){window.parent.closeCurrentTab({name:name,openTime:this.openTime,exit:!0})},filterOpen:function(t){this.filterVisible=t},initPage:function(){var n=this;$.ajax({type:"post",url:contextPath+"/bankstatementappcontroller/initPage",dataType:"json",data:null,success:function(t){if("100100"!=t.code){var e="页面初始化失败";return t.hasOwnProperty("data")&&(e=t.msg),void layer.alert(e)}var a=t.data;console.log(a),console.log(a.initCurrencyList),n.organisationList=a.org,n.sobId=a.org[0].value,n.baseData.standardCurrencyId=a.standardCurrencyId,n.openData.openCurrencyList=a.initCurrencyList,n.editData.editCurrencyList=a.initCurrencyList,n.remarklist=a.voucherExpList,n.subjectList=a.subjectList,n.periodYear=a.periodYear,n.periodList=a.monthList,n.createrList=a.createrList,$.isEmptyObject(a.createrList)||0==a.createrList.length||(n.openData.createId=a.createrList[0].createId),n.baseData.cnCurrentAccountYear=a.cnCurrentAccountYear,n.baseData.cnCurrentAccountPeriod=a.cnCurrentAccountPeriod,$.isEmptyObject(a.subjectList)||0==a.subjectList.length||(n.addData.subjectId=a.subjectList[0].accountId,n.openData.subjectId=a.subjectList[0].accountId,n.openData.subjectName=a.subjectList[0].accountName,n.baseData.subjectName=a.subjectList[0].accountName,n.baseData.bankAccountNumber=a.subjectList[0].bankAccount,n.editData.accountNumber=a.subjectList[0].bankAccount),$.isEmptyObject(a.initCurrencyList)||0==a.initCurrencyList.length||(n.addData.currencyId=a.initCurrencyList[0].currencyId,n.editData.currencyId=a.initCurrencyList[0].currencyId,n.openData.currencyId=a.initCurrencyList[0].currencyId,n.addData.debitAmountForRate=a.initCurrencyList[0].exchangeRate,n.addData.creditAmountForRate=a.initCurrencyList[0].exchangeRate,n.baseData.currencyName=a.initCurrencyList[0].currencyName,n.openData.currencyName=a.initCurrencyList[0].currencyName),Object.assign(n.editData,n.addData),n.openData.startDate=a.startDate,n.openData.endDate=a.endDate,n.editData.datetime=a.endDate,n.addData.datetime=a.endDate,n.editData.periodDate=a.cnCurrentAccountYear+"年"+a.cnCurrentAccountPeriod+"期",n.baseData.periodDate=a.cnCurrentAccountYear+"年"+a.cnCurrentAccountPeriod+"期",n.openData.startYear=n.periodYear[0].value,n.openData.endYear=n.periodYear[0].value,n.editData.accountYear=a.cnCurrentAccountYear,$.each(n.periodList,function(t,e){e.name==a.cnCurrentAccountPeriod&&(n.openData.startPeriod=e.name,n.openData.endPeriod=e.name,n.editData.accountPeriod=e.name)}),n.initMethod()}})},initMethod:function(){var t=this.openData;2==t.type&&(t.startDate=new Date(t.startDate).format("yyyy-MM-dd"),t.startDate=new Date(t.endDate).format("yyyy-MM-dd")),this.delTable(),this.setTableHeader()},setTableHeader:function(){this.baseData.standardCurrencyId===this.openData.currencyId?(this.colNames=["id","日期","摘要","借方金额","贷方金额","余额","勾对","勾对时间","制单人","数据来源","备注"],this.colModel=[{name:"id",width:30,hidden:!0},{name:"dateTimeStr",width:100},{name:"summary",width:270},{name:"debitAmountFor",width:120,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"creditAmountFor",width:120,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"balanceFor",width:120,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"isTick",width:90,align:"center",formatter:function(t,e,a){return null!=t&&1<t?'<i class="ivu-icon ivu-icon-checkmark-round"></i>':""}},{name:"tickTime",width:90},{name:"createName",width:90},{name:"dataSource",width:150,formatter:function(t,e,a){return 1==t?"总账引入":2==t?"手工录入":3==t?"Excel导入":""}},{name:"remark",width:140}],this.tableHeaders=[],this.base_config.height=$(window).height()-120):(this.colNames=["id","日期","摘要","原币","本位币","原币","本位币","原币","本位币","勾对","勾对时间","制单人","数据来源","备注"],this.colModel=[{name:"id",width:30,hidden:!0},{name:"dateTimeStr",width:100},{name:"summary",width:180},{name:"debitAmountFor",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"debitAmount",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"creditAmountFor",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"creditAmount",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"balanceFor",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"balance",width:100,formatter:function(t,e,a,n){return null==t||0==t?"":accounting.formatNumber(t,2,",")}},{name:"isTick",width:90,align:"center",formatter:function(t,e,a){return null!=t&&1<t?'<i class="ivu-icon ivu-icon-checkmark-round"></i>':""}},{name:"tickTime",width:90},{name:"createName",width:90},{name:"dataSource",width:150,formatter:function(t,e,a){return 1==t?"总账引入":2==t?"手工录入":3==t?"Excel导入":""}},{name:"remark",width:90}],this.tableHeaders=[{startColumnName:"debitAmountFor",numberOfColumns:2,titleText:"借方金额"},{startColumnName:"creditAmountFor",numberOfColumns:2,titleText:"贷方金额"},{startColumnName:"balanceFor",numberOfColumns:2,titleText:"余额"}],this.base_config.height=$(window).height()-160),this.jqGridInit(this.colNames,this.colModel,this.tableHeaders)},delTable:function(){$("#list").empty();var t=$(".jqGrid_wrapper");t.empty(),$('<table id="list"></table><div id="pager"></div>').appendTo(t)},jqGridInit:function(t,e,a){console.log(t,e,a);var n=this,r=Object.assign({},this.base_config,{colNames:t,colModel:e,postData:JSON.stringify(n.openData),loadComplete:function(t){"100100"==t.code?(n.dataList=t.data.resultVOs,jQuery("#list").jqGrid("destroyGroupHeader"),jQuery("#list").jqGrid("setGroupHeaders",{useColSpanStyle:!0,groupHeaders:a}),console.log(a,111),n.lodoPList=t.data||[],n.baseData.periodDate=t.data.queryPeriod):layer.alert(t.msg)}});jQuery("#list").jqGrid(r)},openSubjectChange:function(t){var e=this;$.ajax({type:"post",url:contextPath+"/cnbankdepositjournalappcontroller/subjectChange",data:{subjectId:t},success:function(t){"100100"==t.code&&null!=t.data?(e.openData.openCurrencyList=t.data,e.$refs.openCurrencyIdRef.reset(),e.$nextTick(function(){e.openData.openCurrencyList&&(e.openData.currencyId=e.openData.openCurrencyList[0].currencyId)})):layer.alert("请求错误")}})},addSubjectChange:function(a){var n=this;$.ajax({type:"post",url:contextPath+"/cnbankdepositjournalappcontroller/subjectChange",data:{subjectId:a},success:function(t){"100100"===t.code?(n.editData.editCurrencyList=t.data,n.$refs.editCurrencyIdRef.reset(),n.$nextTick(function(){0<n.editData.editCurrencyList.length&&(n.editData.currencyId=n.editData.editCurrencyList[0].currencyId)})):layer.alert("请求错误")}}),$.each(n.subjectList,function(t,e){a==e.accountId&&(n.editData.accountNumber=e.bankAccount)})},bookDateChange:function(t){var e=this,a={currentDate:new Date(t).format("yyyy-MM-dd"),currencyId:e.editData.currencyId};$.ajax({type:"post",url:contextPath+"/cnbankdepositjournalappcontroller/getPeriodByDate",data:a,success:function(t){"100100"===t.code?(console.log(t),e.editData.periodDate=t.data.year+"年"+t.data.month+"期",e.editData.accountYear=t.data.year,e.editData.accountPeriod=t.data.month,e.$Message.success({content:"日期有效",duration:2,closable:!0})):e.$Message.error({content:t.msg,duration:3,closable:!0})}})},currencyChange:function(a){var n=this;$.each(n.editData.editCurrencyList,function(t,e){a===e.currencyId?(n.editData.debitAmountForRate=e.exchangeRate,n.editData.creditAmountForRate=e.exchangeRate,n.editData.exchangeRate=e.exchangeRate):(n.editData.debitAmountForRate=1,n.editData.creditAmountForRate=1,n.editData.exchangeRate=1)})},deleteBDJ:function(){var e=this,t=e.seletedIds;null!=t&&0!=t.length?$.ajax({type:"post",url:contextPath+"/bankstatementappcontroller/deleteBS",data:{ids:t},success:function(t){"100100"==t.code?(e.$Message.success({content:t.msg,duration:3,closable:!0}),e.refresh()):e.$Message.error({content:t.msg,duration:3,closable:!0})}}):e.$Message.error("请选择一条数据!")},refresh:function(){this.openSave()},exportExcel:function(){var t=this.openData,e=this.baseData,a=contextPath+"/bankstatementappcontroller/exportExcel?sobId="+t.sobId+"&subjectId="+t.subjectId+"&currencyId="+t.currencyId+"&type="+t.type+"&startDate="+t.startDate+"&endDate="+t.endDate+"&startYear="+t.startYear+"&startPeriod="+t.startPeriod+"&endYear="+t.endYear+"&endPeriod="+t.endPeriod+"&explains="+t.explains+"&createId="+t.createId+"&startDebitFor="+t.startDebitFor+"&endDebitFor="+t.endDebitFor+"&startCreditFor="+t.startCreditFor+"&endCreditFor="+t.endCreditFor+"&isCheck="+t.isCheck+"&showInitBalance="+t.showInitBalance+"&showDetailRecord="+t.showDetailRecord+"&showDaySum="+t.showDaySum+"&showPeriodSum="+t.showPeriodSum+"&showYearSum="+t.showYearSum+"&subjectName="+e.subjectName+"&bankAccountNumber="+e.bankAccountNumber+"&currencyName="+e.currencyName+"&periodDate="+e.periodDate+"&showTotalSum="+t.showTotalSum;console.log(a),window.open(a)},downloadf:function(){var t=contextPath+"/bankstatementappcontroller/downLoadFormatter?sobId=0";window.open(t)},importsave:function(t){var e=this;console.log("点击引入,查看_info:---\x3e"),console.log(t),$.ajax({type:"post",url:contextPath+"/bankstatementappcontroller/importSave",data:JSON.stringify(t),contentType:"application/json;charset=utf-8",dataType:"json",success:function(t){"100100"==t.code?(e.$Message.success({content:"从excel表引入数据成功!",duration:3,closable:!0}),e.refresh()):e.$Message.error({content:t.msg,duration:3,closable:!0})}}),Object.assign(this.importData,this.ClearImportData)},printV:function(){var e=this;if(e.dataList&&e.dataList.length)if(console.log("点击打印,查看that.dataList: "),console.log(e.dataList),$.each(e.dataList,function(t,e){e.isTick=2==e.isTick?"√":"","1"==e.dataSource?e.dataSource="总账引入":"2"==e.dataSource?e.dataSource="手工录入":"3"==e.dataSource?e.dataSource="Excel导入":e.dataSource=""}),e.openData.currencyId===e.baseData.standardCurrencyId){var t={title:"银行对账单",template:1,titleInfo:[{name:"科目",val:e.baseData.subjectName},{name:"账号",val:e.baseData.bankAccountNumber},{name:"币别",val:e.baseData.currencyName},{name:"期间",val:e.baseData.periodDate}],colNames:[{name:"日期",col:"dateTimeStr"},{name:"摘要",col:"summary"},{name:"借方金额",col:"debitAmount",formatNub:!0},{name:"贷方金额  ",col:"creditAmount",formatNub:!0},{name:"余额",col:"balance",formatNub:!0},{name:"过账标志",col:"posted"},{name:"摘要",col:"summary"},{name:"勾对",col:"isTick"},{name:"勾对时间",col:"tickTime"},{name:"制单人",col:"createName"},{name:"数据来源",col:"dataSource"},{name:"备注",col:"remark"}],styleCss:"",colMaxLenght:9,data:e.dataList};e.printInfo=t,e.printModalShow(!0)}else{var a=e.dataList,n="";'\n                    <tr class=\'thCs\'>\n                        <th rowspan="2" style="width: 6%">日期</th>\n                        <th rowspan="2" style="width: 12%">摘要</th>\n                        <th colspan="2" style="width: 12%">借方金额</th>\n                        <th colspan="2" style="width: 12%">贷方金额</th>\n                        <th colspan="2" style="width: 12%">余额</th>\n                        <th rowspan="2" style="width: 6%">勾对</th>\n                        <th rowspan="2" style="width: 6%">勾对时间</th>\n                        <th rowspan="2" style="width: 6%">制单人</th>\n                        <th rowspan="2" style="width: 6%">数据来源</th>\n                        <th rowspan="2" style="width: 6%">备注</th>\n                    </tr>\n                     <tr class=\'thCs\'>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                    </tr>\n                ',a.forEach(function(t){n+="\n                        <tr>\n                            <td>"+e._nullData(t.dateTimeStr)+"</td>\n                            <td>"+e._nullData(t.summary)+"</td>\n                            <td>"+e.formartMoney(t.debitAmountFor)+"</td>\n                            <td>"+e.formartMoney(t.debitAmount)+"</td>\n                            <td>"+e.formartMoney(t.creditAmountFor)+"</td>\n                            <td>"+e.formartMoney(t.creditAmount)+"</td>\n                            <td>"+e.formartMoney(t.balanceFor)+"</td>\n                            <td>"+e.formartMoney(t.balance)+"</td>\n                            <td>"+e._nullData(t.isTick)+"</td>\n                            <td>"+e._nullData(t.tickTime)+"</td>\n                            <td>"+e._nullData(t.createName)+"</td>\n                            <td>"+e._nullData(t.dataSource)+"</td>\n                            <td>"+e._nullData(t.remark)+"</td>\n                        </tr>\n                    "});var r={title:"银行对账单",template:12,titleInfo:[{name:"科目",val:e.baseData.subjectName},{name:"账号",val:e.baseData.bankAccountNumber},{name:"币别",val:e.baseData.currencyName},{name:"期间",val:e.baseData.periodDate}],data:[],colMaxLenght:10,tbodyInfo:{theadTX:'\n                    <tr class=\'thCs\'>\n                        <th rowspan="2" style="width: 6%">日期</th>\n                        <th rowspan="2" style="width: 12%">摘要</th>\n                        <th colspan="2" style="width: 12%">借方金额</th>\n                        <th colspan="2" style="width: 12%">贷方金额</th>\n                        <th colspan="2" style="width: 12%">余额</th>\n                        <th rowspan="2" style="width: 6%">勾对</th>\n                        <th rowspan="2" style="width: 6%">勾对时间</th>\n                        <th rowspan="2" style="width: 6%">制单人</th>\n                        <th rowspan="2" style="width: 6%">数据来源</th>\n                        <th rowspan="2" style="width: 6%">备注</th>\n                    </tr>\n                     <tr class=\'thCs\'>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                        <th style="width: 6%">原币</th>\n                        <th style="width: 6%">本位币</th>\n                    </tr>\n                ',tbodyTX:n,tfootTX:""}};htPrint(r)}else e.$Message.error({content:"无打印数据!",duration:3})},_nullData:function(t){return t||""},formartMoney:function(t){return null==t||0==t?"":accounting.formatNumber(t,2,",")},printModalShow:function(t){this.printModal=t},closeWindow:function(){window.parent.closeCurrentTab({name:"银行对账单",openTime:this.openTime,exit:!0})},handleSelectedIds:function(t,e,a){var n=this;if("object"===(void 0===t?"undefined":_typeof(t))&&e&&(n[a]=t.filter(function(t){if("null"!=t&&"0"!=t)return t})),"object"!==(void 0===t?"undefined":_typeof(t))||e||(n[a]=[]),"string"==typeof t)if(e){"null"!=t&&"0"!=t&&!(-1<n[a].indexOf(t.toString()))&&n[a].push(t.toString())}else{var r=n[a].indexOf(t.toString());-1<r&&n[a].splice(r,1)}console.log("当前选择的idList: seletedIds[] ==="),console.log(n.seletedIds)}},mounted:function(){this.initPage(),this.openTime=window.parent.params&&window.parent.params.openTime},watch:{"editData.debitAmountFor":function(t,e){this.editData.debitAmount=(this.editData.debitAmountFor*this.editData.debitAmountForRate).toFixed(2)},"editData.creditAmountFor":function(t,e){this.editData.creditAmount=(this.editData.creditAmountFor*this.editData.creditAmountForRate).toFixed(2)},"editData.debitAmountForRate":function(t,e){this.editData.debitAmount=(this.editData.debitAmountFor*this.editData.debitAmountForRate).toFixed(2)},"editData.creditAmountForRate":function(t,e){this.editData.creditAmount=(this.editData.creditAmountFor*this.editData.creditAmountForRate).toFixed(2)}}});