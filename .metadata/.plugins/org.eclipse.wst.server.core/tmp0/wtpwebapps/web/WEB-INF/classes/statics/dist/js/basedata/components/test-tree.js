"use strict";var vm=Vue.component("test-tree",{props:["zsetting","tid"],data:function(){return{setting:{treeId:"",data:{},callback:this.evalCallback(),zNodes:[]}}},methods:{loadData:function(){$;$.ajax({type:"POST",url:"./treedata.json",contentType:"application/json",dataType:"json",success:function(t){console.log(t.data);$.fn.zTree.init($("#"+vm.tid),vm.setting,vm.zNodes);vm.zNodes=t.data,$.fn.zTree.init($("#"+vm.tid),vm.setting,vm.zNodes)},error:function(t){vm.$Spin.hide(),console.log("服务器出错")}})},evalCallback:function(){var a=this,i={};return $.each(this.zsetting.callback,function(t,e){i[t]=a.$parent[e]}),i}},mounted:function(){void 0!==this.zsetting.data.simpleData?(this.setting.data=this.zsetting.data,this.zNodes=this.zdata,this.loadData()):alert("目前生成节点使用的是简单json数据,需要设置setting.data.simpleData.enable =true，才能正确生成树形菜单")},created:function(){void 0===this.tid&&(this.tid="ztree"+Date.parse(new Date).toString())},template:'<ul :id="tid" class="ztree"></ul>'});