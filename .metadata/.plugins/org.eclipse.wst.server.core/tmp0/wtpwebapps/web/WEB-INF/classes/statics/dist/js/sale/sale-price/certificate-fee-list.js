"use strict";new Vue({el:"#certificate-fee-list",data:function(){return{openName:"",openTime:"",showUpload:!1,file:"",uploadDataList:{},saleCertificateFeeVo:{id:"",isDel:1,remark:"",certificateType:"",certificateName:"",organizationId:"",saleCertificateDetailList:[]}}},methods:{clearNum:function(e,t,a){return htInputNumber(e,t,a)},importExcel:function(){this.showUpload=!this.showUpload},modalOk:function(){this.saleCertificateFeeVo.saleCertificateDetailList=this.uploadDataList},modalCancel:function(){},handleSuccess:function(e,t){"100100"==e.code?(this.$Modal.success({title:"提示",content:"上传成功!"}),this.uploadDataList=e.data):(this.$Modal.success({title:"提示",content:data.data+"上传失败!"}),this.uploadDataList=this.saleCertificateFeeVo.saleCertificateDetailList)},handleFormatError:function(e){this.$Modal.warning({title:"提示",content:"文件格式错误，请选择.xlsx文件"})},handleMaxSize:function(e){this.$Modal.warning({title:"提示",content:"文件过大，请选择小于5M文件"})},handleBeforeUpload:function(){},exportTemplate:function(){var e=contextPath+"/excle/getExcelModel?excelModelName=证书费模板.xlsx";window.location.href=e},save:function(){var t=this;this.saleCertificateFeeVo.id="",null!==this.saleCertificateFeeVo.saleCertificateDetailList&&0<this.saleCertificateFeeVo.saleCertificateDetailList.length&&this.saleCertificateFeeVo.saleCertificateDetailList.forEach(function(e){e.id="",e.certificateId=""}),$.ajax({type:"POST",url:contextPath+"/saleCertificateFeeController/save",contentType:"application/json;charset=utf-8",data:JSON.stringify(t.saleCertificateFeeVo),dataType:"json",success:function(e){console.log(e),"100100"===e.code?t.$Modal.success({title:"提示",content:"保存成功!"}):t.$Modal.warning({title:"提示",content:"保存失败!"})},error:function(e){t.$Modal.warning({title:"提示",content:"服务器出错!"})}})},getCertificateFeeData:function(){var t=this;$.ajax({type:"POST",url:contextPath+"/saleCertificateFeeController/list",contentType:"application/json;charset=utf-8",dataType:"json",success:function(e){console.log(e.data),null!==e.data&&(t.saleCertificateFeeVo=e.data)},error:function(e){t.$Modal.warning({title:"提示",content:"服务器出错!"})}})},cancel:function(){window.parent.closeCurrentTab({name:this.openName,exit:!0,openTime:this.openTime})}},mounted:function(){this.openTime=window.parent.params.openTime,this.openName=window.parent.params.openName,this.getCertificateFeeData()}});