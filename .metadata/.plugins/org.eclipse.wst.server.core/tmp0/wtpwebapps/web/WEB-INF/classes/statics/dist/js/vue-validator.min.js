"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueValidator=e()}(void 0,function(){function a(t,e){window.console&&(console.warn("[vue-validator] "+t),e&&console.warn(e.stack))}function i(t,e){return t===e||!(!l(t)||!l(e))&&JSON.stringify(t)===JSON.stringify(e)}function s(t){var e=t.className;return"object"==(void 0===e?"undefined":_typeof(e))&&(e=e.baseVal||""),e}function r(t,e){_&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function o(t,e){if(t.classList)t.classList.add(e);else{var i=" "+s(t)+" ";i.indexOf(" "+e+" ")<0&&r(t,(i+e).trim())}}function u(t,e){if(t.classList)t.classList.remove(e);else{for(var i=" "+s(t)+" ",n=" "+e+" ";0<=i.indexOf(n);)i=i.replace(n," ");r(t,i.trim())}t.className||t.removeAttribute("class")}function d(t,e,i){if(t){if(-1===(e=e.trim()).indexOf(" "))return void i(t,e);for(var n=e.split(/\s+/),s=0,r=n.length;s<r;s++)i(t,n[s])}}function n(t,e,i){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),i&&i(n),t.dispatchEvent(n)}function t(t){var e,i={};return(e=t,Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})).forEach(function(t){var e=t.key,n=t.val;i[e]=function(){var t=this.$validation;if(!this._isMounted)return null;var e=n.split(".");if("$validation"!==e.shift())return a("unknown validation result path: "+n),null;for(var i=t;i=i[e.shift()],0<e.length;);return i}}),i}function l(t){return null!==t&&"object"==(void 0===t?"undefined":_typeof(t))}function h(t){return/^(-?[1-9]\d*|0)$/.test(t)}function c(t){t[m]="DOM"}function v(t){var e=(t.data&&t.data.directives||[]).find(function(t){return"model"===t.name});return e&&void 0!==e.oldValue?i(e.value,e.oldValue):null}function e(t){for(var e=[],i=0,n=t.options.length;i<n;i++){var s=t.options[i];!s.disabled&&s.selected&&e.push(s.value)}return e}function f(t,e){return void 0===e&&(e={}),j?void a("already installed."):(r=t,Object.defineProperty(r.config,"validator",{enumerable:!0,configurable:!0,get:function(){return y},set:function(t){y=t}}),function(i){var s=i.util.extend,t=Object.create(null);s(t,g),i.options.validators=t;var e=i.config.optionMergeStrategies;e&&(e.validators=function(t,e){if(!e)return t;if(!t)return e;var i,n=Object.create(null);for(i in s(n,t),e)n[i]=e[i];return n}),i.validator=function(t,e){return void 0===e?i.options.validators[t]:void(null===(i.options.validators[t]=e)&&delete i.options.validators.id)}}(t),(s=t).mixin(E(s)),n=N(i=t),Object.keys(n).forEach(function(t){i.component(t,n[t])}),void(j=!0));var i,n,s,r}var p="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window)&&window.navigator.userAgent.toLowerCase(),_=p&&0<p.indexOf("msie 9.0"),m="__VUE_VALIDATOR_MODEL_NOTIFY_EVENT__",y={classes:{}},g=Object.freeze({required:function t(e){if(Array.isArray(e)){if(0===e.length)return!1;for(var i=!0,n=0,s=e.length;n<s&&(i=t(e[n]));n++);return i}return"number"==typeof e||"function"==typeof e||("boolean"==typeof e?e:"string"==typeof e?0<e.length:null!==e&&"object"==(void 0===e?"undefined":_typeof(e))&&0<Object.keys(e).length)},pattern:function(t,e){if("string"!=typeof e)return!1;var i=e.match(new RegExp("^/(.*?)/([gimy]*)$"));return!!i&&new RegExp(i[1],i[2]).test(t)},minlength:function(t,e){return"string"==typeof t?h(e)&&t.length>=parseInt(e,10):!!Array.isArray(t)&&t.length>=parseInt(e,10)},maxlength:function(t,e){return"string"==typeof t?h(e)&&t.length<=parseInt(e,10):!!Array.isArray(t)&&t.length<=parseInt(e,10)},min:function(t,e){return!isNaN(+t)&&!isNaN(+e)&&+e<=+t},max:function(t,e){return!isNaN(+t)&&!isNaN(+e)&&+t<=+e}}),b=function(o){var s,l=(s=o.util.extend,{data:function(){return{valid:!0,dirty:!1,touched:!1,modified:!1,results:{}}},computed:{invalid:function(){return!this.valid},pristine:function(){return!this.dirty},untouched:function(){return!this.touched},result:function(){var i={valid:this.valid,invalid:this.invalid,dirty:this.dirty,pristine:this.pristine,touched:this.touched,untouched:this.untouched,modified:this.modified},n=this.results;return this._validityKeys.forEach(function(t){if(i[t]=n[t],i[t].errors){var e=i.errors||[];i[t].errors.forEach(function(t){e.push(t)}),i.errors=e}}),i}},watch:{results:function(t,e){var i=this._validityKeys,n=this.results;this.valid=this.checkResults(i,n,"valid",!0),this.dirty=this.checkResults(i,n,"dirty",!1),this.touched=this.checkResults(i,n,"touched",!1),this.modified=this.checkResults(i,n,"modified",!1)}},created:function(){this._validities=Object.create(null),this._validityWatchers=Object.create(null),this._validityKeys=[],this._committing=!1},destroyed:function(){var e=this;this._validityKeys.forEach(function(t){e._validityWatchers[t](),delete e._validityWatchers[t],delete e._validities[t]}),delete this._validityWatchers,delete this._validities,delete this._validityKeys},methods:{register:function(i,t){var n=this;this._validities[i]=t,this._validityKeys=Object.keys(this._validities),this.setResults(i,{}),this.withCommit(function(){n._validityWatchers[i]=t.$watch("result",function(t,e){n.setResults(i,t)},{deep:!0,immediate:!0})})},unregister:function(t){var e=this;this._validityWatchers[t](),delete this._validityWatchers[t],delete this._validities[t],this._validityKeys=Object.keys(this._validities),this.withCommit(function(){e.resetResults(t)})},isRegistered:function(t){return t in this._validities},getValidityKeys:function(){return this._validityKeys},checkResults:function(t,e,i,n){for(var s=n,r=0;r<t.length;r++)if(e[t[r]][i]!==n){s=!n;break}return s},setResults:function(t,e){var i=this,n={};this._validityKeys.forEach(function(t){n[t]=s({},i.results[t])}),n[t]=s({},e),this.results=n},resetResults:function(e){var i=this,n={};this._validityKeys.forEach(function(t){e&&e!==t&&(n[t]=s({},i.results[t]))}),this.results=n},withCommit:function(t){var e=this._committing;this._committing=!0,t(),this._committing=e}}}),t=function(t){void 0===t&&(t={}),this._result={},this._host=t.host,this._named=Object.create(null),this._group=Object.create(null),this._validities=Object.create(null),this._beginDestroy=!1,o.util.defineReactive(this._host,"$validation",this._result)};return t.prototype.register=function(t,e,i){if(void 0===i&&(i={}),this._validityManager||(this._validityManager=new o(l),this._watchValidityResult()),!this._validities[t]){this._validities[t]=e;var n=i.named,s=i.group,r=s?this._getValidityGroup("group",s)||this._registerValidityGroup("group",s):null,a=n?this._getValidityGroup("named",n)||this._registerValidityGroup("named",n):null;n&&s&&a&&r?(r.register(t,e),!a.isRegistered(s)&&a.register(s,r),!this._validityManager.isRegistered(n)&&this._validityManager.register(n,a)):a?(a.register(t,e),!this._validityManager.isRegistered(n)&&this._validityManager.register(n,a)):r?(r.register(t,e),!this._validityManager.isRegistered(s)&&this._validityManager.register(s,r)):this._validityManager.register(t,e)}},t.prototype.unregister=function(t,e){if(void 0===e&&(e={}),this._validityManager&&this._validities[t]){delete this._validities[t];var i=e.named,n=e.group,s=n?this._getValidityGroup("group",n):null,r=i?this._getValidityGroup("named",i):null;i&&n&&r&&s?(s.unregister(t),r.isRegistered(n)&&r.unregister(n),this._validityManager.isRegistered(i)&&this._validityManager.unregister(i)):r?(r.unregister(t),this._validityManager.isRegistered(i)&&this._validityManager.unregister(i)):s?(s.unregister(t),this._validityManager.isRegistered(n)&&this._validityManager.unregister(n)):this._validityManager.unregister(t),n&&this._unregisterValidityGroup("group",n),i&&this._unregisterValidityGroup("named",i)}},t.prototype.destroy=function(){var n=this,t=Object.keys(this._validities),e=Object.keys(this._named),s=Object.keys(this._group);t.forEach(function(i){s.forEach(function(t){var e=n._getValidityGroup("group",t);e&&e.isRegistered(t)&&e.unregister(i)}),e.forEach(function(t){var e=n._getValidityGroup("named",t);e&&e.isRegistered(i)&&e.unregister(i)}),n._validityManager.isRegistered(i)&&n._validityManager.unregister(i),delete n._validities[i]}),s.forEach(function(i){e.forEach(function(t){var e=n._getValidityGroup("named",t);e&&e.isRegistered(i)&&e.unregister(i)}),n._validityManager.isRegistered(i)&&n._validityManager.unregister(i),n._unregisterValidityGroup("group",i)}),e.forEach(function(t){n._validityManager.isRegistered(t)&&n._validityManager.unregister(t),n._unregisterValidityGroup("named",t)}),this._beginDestroy=!0},t.prototype._getValidityGroup=function(t,e){return"named"===t?this._named[e]:this._group[e]},t.prototype._registerValidityGroup=function(t,e){var i="named"===t?this._named:this._group;return i[e]=new o(l),i[e]},t.prototype._unregisterValidityGroup=function(t,e){var i="named"===t?this._named:this._group;i[e]&&(i[e].$destroy(),delete i[e])},t.prototype._watchValidityResult=function(){var i=this;this._watcher=this._validityManager.$watch("results",function(t,e){o.set(i._host,"$validation",t),i._beginDestroy&&i._destroyValidityMananger()},{deep:!0})},t.prototype._unwatchValidityResult=function(){this._watcher(),delete this._watcher},t.prototype._destroyValidityMananger=function(){this._unwatchValidityResult(),this._validityManager.$destroy(),this._validityManager=null},t},E=function(t){var e=b(t);return{beforeCreate:function(){this._validation=new e({host:this})}}},V={field:{type:String,required:!0},validators:{type:[String,Array,Object],required:!0},group:{type:String},multiple:{type:Boolean},classes:{type:Object,default:function(){return{}}}},w={valid:"valid",invalid:"invalid",touched:"touched",untouched:"untouched",pristine:"pristine",dirty:"dirty",modified:"modified"},M=function(t){return{props:(0,t.util.extend)({child:{type:Object,required:!0}},V),data:function(){var t,e,i,n,s,r="string"==typeof(t=this.validators)?[t]:Array.isArray(t)?t:Object.keys(t);return{results:(n=r,s={},n.forEach(function(t){s[t]=void 0}),s),valid:!0,dirty:!1,touched:!1,modified:!1,progresses:(e=r,i={},e.forEach(function(t){i[t]=""}),i)}}}},O=function(t,e){this._vm=t,this._vnode=e,this.initValue=this.getValue(),this.attachValidity()},I={_isBuiltIn:{},_isComponent:{}};I._isBuiltIn.get=function(){var t=this._vnode;return!t.child&&!t.componentOptions&&t.tag},I._isComponent.get=function(){var t=this._vnode;return t.child&&t.componentOptions&&t.tag.match(/vue-component/)},O.prototype.attachValidity=function(){this._vm.$el.$validity=this._vm},O.prototype.getValue=function(){if(this._isBuiltIn){var t=this._vm.$el;return"SELECT"===t.tagName?e(t):"checkbox"===t.type?t.checked:t.value}return this._isComponent?this._vnode.child.value:""},O.prototype.checkModified=function(){if(this._isBuiltIn){var t=this._vm.$el;return"SELECT"===t.tagName?!i(this.initValue,e(t)):"checkbox"===t.type?!i(this.initValue,t.checked):!i(this.initValue,t.value)}return!!this._isComponent&&!i(this.initValue,this._vnode.child.value)},O.prototype.listenToucheableEvent=function(){this._vm.$el.addEventListener("focusout",this._vm.willUpdateTouched)},O.prototype.unlistenToucheableEvent=function(){this._vm.$el.removeEventListener("focusout",this._vm.willUpdateTouched)},O.prototype.listenInputableEvent=function(){var t=this._vm;if(this._isBuiltIn){var e=t.$el;"SELECT"===e.tagName?e.addEventListener("change",t.handleInputable):"checkbox"===e.type?e.addEventListener("change",t.handleInputable):e.addEventListener("input",t.handleInputable)}else this._isComponent&&(this._unwatchInputable=this._vnode.child.$watch("value",t.watchInputable))},O.prototype.unlistenInputableEvent=function(){var t=this._vm;if(this._isBuiltIn){var e=t.$el;"SELECT"===e.tagName?e.removeEventListener("change",t.handleInputable):"checkbox"===e.type?e.removeEventListener("change",t.handleInputable):e.removeEventListener("input",t.handleInputable)}else this._isComponent&&this._unwatchInputable&&(this._unwatchInputable(),this._unwatchInputable=void 0,delete this._unwatchInputable)},O.prototype.fireInputableEvent=function(){if(this._isBuiltIn){var t=this._vm.$el;"SELECT"===t.tagName?n(t,"change",c):"checkbox"===t.type?n(t,"change",c):n(t,"input",c)}else if(this._isComponent){var e={value:this.getValue(),__VUE_VALIDATOR_MODEL_NOTIFY_EVENT__:"COMPONENT"};this._vnode.child.$emit("input",e)}},O.prototype.modelValueEqual=function(t){return v(t)},Object.defineProperties(O.prototype,I);var k=function(t){this._vm=t,this.initValue=this.getValue(),this.attachValidity()};k.prototype.attachValidity=function(){var e=this;this._vm.$el.$validity=this._vm,this._eachItems(function(t){t.$validity=e._vm})},k.prototype.getValue=function(){return this._getCheckedValue()},k.prototype.checkModified=function(){return!i(this.initValue,this._getCheckedValue())},k.prototype.listenToucheableEvent=function(){var e=this;this._eachItems(function(t){t.addEventListener("focusout",e._vm.willUpdateTouched)})},k.prototype.unlistenToucheableEvent=function(){var e=this;this._eachItems(function(t){t.removeEventListener("focusout",e._vm.willUpdateTouched)})},k.prototype.listenInputableEvent=function(){var e=this;this._eachItems(function(t){t.addEventListener("change",e._vm.handleInputable)})},k.prototype.unlistenInputableEvent=function(){var e=this;this._eachItems(function(t){t.removeEventListener("change",e._vm.handleInputable)})},k.prototype.fireInputableEvent=function(){this._eachItems(function(t){n(t,"change",c)})},k.prototype.modelValueEqual=function(t){for(var e=null,i=this._vm.child&&this._vm.child.children||[],n=0;n<i.length;n++){var s=v(i[n]);if(!s){e=s;break}}return e},k.prototype._getCheckedValue=function(){var e=[];return this._eachItems(function(t){!t.disabled&&t.checked&&e.push(t.value)}),e},k.prototype._getItems=function(){return this._vm.$el.querySelectorAll('input[type="checkbox"], input[type="radio"]')},k.prototype._eachItems=function(t){for(var e=this._getItems(),i=0;i<e.length;i++)t(e[i])};var $=function(t){return{created:function(){var n,s;this._elementable=null,this._keysCached=(n=function(t){return Object.keys(t)},s=Object.create(null),function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];return s[t]||(s[t]=n.apply(void 0,e))}),this._modified=!1,this._modelIntegrationMode="NONE",this._watchValidationRawResults();var t=this.$options.propsData?this.$options.propsData.validation:null;if(t){var e=t.instance,i=t.name,r=this.group;e.register(this.field,this,{named:i,group:r})}},destroyed:function(){var t=this.$options.propsData?this.$options.propsData.validation:null;if(t){var e=t.instance,i=t.name,n=this.group;e.unregister(this.field,this,{named:i,group:n})}this._unwatchValidationRawResults(),this._elementable.unlistenInputableEvent(),this._elementable.unlistenToucheableEvent(),this._elementable=null},mounted:function(){var t,e;this._elementable=(e=(t=this)._vnode,t.multiple?new k(t):new O(t,e)),this._elementable.listenToucheableEvent(),this._elementable.listenInputableEvent(),d(this.$el,this.classes.untouched,o),d(this.$el,this.classes.pristine,o)},updated:function(){if("MODEL_AND_USER"===this._modelIntegrationMode){var t=this._elementable.modelValueEqual(this._vnode);this._applyWithUserHandler||null===t||t||this._elementable.fireInputableEvent(),delete this._applyWithUserHandler}else if("MODEL"===this._modelIntegrationMode){var e=this._elementable.modelValueEqual(this._vnode);null===e||e||this._elementable.fireInputableEvent()}}}},R=function(t){var e,l,i,g,n=t.util.extend,s={};return n(s,(g=t.util.toArray,{_fireEvent:function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];var n;(n=this).$emit.apply(n,[t].concat(e))},_interceptEvents:function(t,e){var i=this;(e?t.children||[]:[t]).forEach(function(t){i._wrapEvent(t)})},_wrapEvent:function(s){var i=this,t={};if(!s.tag||!s.data)return t;var e,n=((e=s).data&&e.data.directives||[]).find(function(t){return"model"===t.name});if(!n)return t;var r,a,o,l=(o=(a={}).listeners=(r=s).componentOptions?r.componentOptions.listeners:r.data&&r.data.on,a.type="input"===r.tag&&"text"===(r.data&&r.data.attrs&&r.data.attrs.type)||r.tag&&r.tag.match(/vue-component/)?"input":"change",o&&(a.orgListeners=o[a.type]),a),u=l.type,d=l.orgListeners,h=l.listeners,c=Array.isArray(d)?d[0]:d,v=Array.isArray(d)?d[1]:null,f=this._modelIntegrationMode;c&&v?f=this._modelIntegrationMode="MODEL_AND_USER":c&&!v&&(f=this._modelIntegrationMode="MODEL");var p=function(e){return function(t){v&&(i._applyWithUserHandler=!0),void 0!==t&&!0!==t||c.apply(s.context,e)}},_=(n.modifiers||{}).validity,y=this;return h[u]=function(){var t=g(arguments,0);if("MODEL_AND_USER"===f){var e=t[0];if("DOM"===e[m])return delete e[m],void(v&&v.apply(s.context,t));if("COMPONENT"===e[m]){var i=e.value;return t[0]=i,void(v&&v.apply(s.context,t))}if(_){var n=y._applyer=p(t);t.push(n),v&&v.apply(s.context,t)}else v&&v.apply(s.context,t),c.apply(s.context,t)}else"MODEL"===f&&(_?y._applyer=p(t):c.apply(s.context,t))},t.dir=n,t},pass:function(t){"NONE"!==this._modelIntegrationMode&&this._applyer&&this._applyer(t)}})),n(s,{getValue:function(t){return this._elementable.getValue()},checkModified:function(){return this._elementable.checkModified()},willUpdateTouched:function(t){this.touched||(this.touched=!0,d(this.$el,this.classes.touched,o),d(this.$el,this.classes.untouched,u),this._fireEvent("touched"))},willUpdateDirty:function(){!this.dirty&&this.checkModified()&&(this.dirty=!0,d(this.$el,this.classes.dirty,o),d(this.$el,this.classes.pristine,u),this._fireEvent("dirty"))},willUpdateModified:function(){var t=this.modified=this.checkModified();this._modified!==t&&(this._modified=t,d(this.$el,this.classes.modified,t?o:u),this._fireEvent("modified",t))},handleInputable:function(t){this.willUpdateDirty(),this.willUpdateModified()},watchInputable:function(t){this.willUpdateDirty(),this.willUpdateModified()},reset:function(){this._unwatchValidationRawResults();for(var t=this._keysCached(this._uid.toString(),this.results),e=0;e<t.length;e++)this.results[t[e]]=void 0,this.progresses[t[e]]="";d(this.$el,this.classes.valid,u),d(this.$el,this.classes.invalid,u),d(this.$el,this.classes.touched,u),d(this.$el,this.classes.untouched,o),d(this.$el,this.classes.dirty,u),d(this.$el,this.classes.pristine,o),d(this.$el,this.classes.modified,u),this.valid=!0,this.dirty=!1,this.touched=!1,this.modified=!1,this._modified=!1,this._watchValidationRawResults()},_watchValidationRawResults:function(){var r=this;this._unwatch=this.$watch("results",function(t){for(var e=!0,i=r._keysCached(r._uid.toString(),r.results),n=0;n<i.length;n++){var s=r.results[i[n]];if("boolean"==typeof s&&!s){e=!1;break}if("string"==typeof s&&s){e=!1;break}}(r.valid=e)?(d(r.$el,r.classes.valid,o),d(r.$el,r.classes.invalid,u)):(d(r.$el,r.classes.valid,u),d(r.$el,r.classes.invalid,o)),r._fireEvent(e?"valid":"invalid")},{deep:!0})},_unwatchValidationRawResults:function(){this._unwatch(),this._unwatch=void 0,delete this._unwatch}}),n(s,(e=t.util,l=e.isPlainObject,i=e.resolveAsset,{_resolveValidator:function(t){var e=this.child&&this.child.context?this.child.context.$options:this.$options;return i(e,"validators",t)},_getValidateDescriptor:function(t,e,i){var n=this._resolveValidator(t);if(!n)return null;var s=null,r=null,a=null;if(l(n))n.check&&"function"==typeof n.check&&(s=n.check),n.message&&(a=n.message);else{if("function"!=typeof n)return null;s=n}if(!s)return null;l(this.validators)&&(l(this.validators[t])?(this.validators[t].rule&&(r=this.validators[t].rule),this.validators[t].message&&(a=this.validators[t].message)):r=this.validators[t]);var o={fn:s,value:i,field:e};return r&&(o.rule=r),a&&(o.msg=a),o},_resolveMessage:function(t,e,i){return i||(e?"function"==typeof e?e(t):e:void 0)},_invokeValidator:function(t,e){var i,n=this,s=t.fn,r=t.value,a=t.field,o=t.rule,l=t.msg,u=s.call(this.child.context,r,o);"function"==typeof u?u(function(){e(!0)},function(t){e(!1,n._resolveMessage(a,l,t))}):(i=u)&&"function"==typeof i.then?u.then(function(){e(!0)},function(t){e(!1,n._resolveMessage(a,l,t))}).catch(function(t){e(!1,n._resolveMessage(a,l,t.message))}):e(u,!1===u?this._resolveMessage(a,l):void 0)},_validate:function(n,t,s){var r=this,e=this._getValidateDescriptor(n,this.field,t);if(e){if(this.progresses[n])return!1;this.progresses[n]="running",this.$nextTick(function(){r._invokeValidator(e,function(t,e){if(r.progresses[n]="",r.results[n]=e||t,s)r.$nextTick(function(){s.call(r,null,t,e)});else{var i={result:t};e&&(i.msg=e),r._fireEvent("validate",n,i)}})})}else{var i=new Error;s?s.call(this,i):this._fireEvent("validate",n,i)}return!0},validate:function(){for(var e=this,t=[],i=arguments.length;i--;)t[i]=arguments[i];var n,s,r,a=!0;return r=3===t.length?(n=[t[0]],s=t[1],t[2]):2===t.length?(s=l(t[0])?(n=[t[0].validator],t[0].value||this.getValue()):(n=this._keysCached(this._uid.toString(),this.results),t[0]),t[1]):1===t.length?(n=this._keysCached(this._uid.toString(),this.results),s=this.getValue(),t[0]):(n=this._keysCached(this._uid.toString(),this.results),s=this.getValue(),null),3===t.length||2===t.length&&l(t[0])?a=this._validate(n[0],s,r):n.forEach(function(t){a=e._validate(t,s,r)}),a}})),s},x=function(t){var e=t.util.extend,i=M(t),n=i.props,s=i.data,r={invalid:function(){return!this.valid},pristine:function(){return!this.dirty},untouched:function(){return!this.touched},result:function(){var s=this,r={valid:this.valid,invalid:this.invalid,dirty:this.dirty,pristine:this.pristine,touched:this.touched,untouched:this.untouched,modified:this.modified};return this._keysCached(this._uid.toString(),this.results).forEach(function(t){var e,i="boolean"==typeof(e=s.results[t])&&!e||!("string"!=typeof e||!e)&&e;if(!1===i)r[t]=!1;else{var n={field:s.field,validator:t};"string"==typeof i&&(n.message=i),r.errors||(r.errors=[]),Array.isArray(r.errors)&&r.errors.push(n),r[t]=i}}),r}},a=$(),o={props:n,data:s,render:{render:function(t){return this._interceptEvents(this.child,this.multiple),this.child}}.render,computed:r,methods:R(t)};return e(o,a),o},L=function(t){var l=t.util.extend;return{functional:!0,props:{name:{type:String},tag:{type:String,default:"form"}},render:function(t,e){var i=e.props,n=e.data,s=e.parent,r=e.children;if(e.slots,!s._validation)return r;var a=i.tag||"form";!function e(i,n,t){t.forEach(function(t){t&&t.componentOptions&&t.componentOptions.propsData&&"validity-control"===t.componentOptions.tag&&(t.componentOptions.propsData.validation={instance:i,name:n}),t.children&&e(i,n,t.children)})}(s._validation,i.name,r);var o=l({attrs:{}},n);return"form"===a&&(o.attrs.novalidate=!0),t(a,o,r)}}},N=function(t){return{"validity-control":x(t),validity:(r=t,a=r.util.extend,{functional:!0,props:V,render:function(i,t){var n=t.props,s=t.data;return t.children.map(function(t){if(!t.tag)return t;var e=a({},s);return e.props=a({},n),e.props.classes=a(a(a({},w),r.config.validator.classes),e.props.classes),e.props.child=t,i("validity-control",e)})}}),"validity-group":(o=t,l=o.util.extend,{functional:!0,props:l({tag:{type:String,default:"fieldset"}},V),render:function(t,e){var i=e.props,n=e.data,s=e.children,r=t(i.tag,s),a=l({},n);return a.props=l({},i),a.props.classes=l(l(l({},w),o.config.validator.classes),a.props.classes),a.props.child=r,a.props.multiple=!0,t("validity-control",a)}}),validation:L(t)};var o,l,r,a},j=!1;return f.mapValidation=t,f.version="3.0.0-alpha.1","undefined"!=typeof window&&window.Vue&&window.Vue.use(f),{install:f,mapValidation:t}});