"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Vue.component("test-item-table",{props:{data:{require:!0,type:Object,default:function(){return[]}},table_id:{require:!1,type:String,default:function(){return("list"+1e8*Math.random()).substring(0,8)}},pager_id:{require:!1,type:String,default:function(){return("list"+1e8*Math.random()).substring(0,8)}}},data:function(){return{selected:[]}},methods:{handlerId:function(t,e){if("object"===(void 0===t?"undefined":_typeof(t))&&e&&(this.selected=t),"object"!==(void 0===t?"undefined":_typeof(t))||e||(this.selected=[]),"string"==typeof t)if(e)!(-1<this.selected.indexOf(t.toString()))&&this.selected.push(t.toString());else{var i=this.selected.indexOf(t.toString());-1<i&&this.selected.splice(i,1)}},initTable:function(){var n=this;if($("#"+n.table_id).jqGrid({datatype:"local",styleUI:"Bootstrap",rownumbers:!0,multiselect:!0,colNames:["id","检验项目状态","附件id","检验项目编码","检验项目名称"],colModel:[{name:"id",index:"id",hidden:!0},{name:"testItemStatus",index:"testItemStatus",hidden:!0},{name:"sysFileId",index:"sysFileId",hidden:!0},{name:"code",index:"code",width:501,align:"left",formatter:function(t,e,i,a){return $(document).off("click",".updateDetail"+t).on("click",".updateDetail"+t,function(){n.updateDetail({value:t,grid:e,rows:i,state:a})}),'<a class="updateDetail'+t+'">'+t+"</a>"},unformat:function(t,e,i){return t.replace(/(<\/?a.*?>)/g,"")}},{name:"name",index:"name",width:501,align:"center"}],pager:!1,autoHeight:!0,onSelectAll:function(t,e){console.log(t,e),n.handlerId(t,e),n.$emit("input",n.selected)},onSelectRow:function(t,e){console.log(t,e),n.handlerId(t,e),n.$emit("input",n.selected)}}),0!=n.data.length&&n.data)for(var t=0;t<n.data.length;t++)$("#"+n.table_id).jqGrid("addRowData",t+1,n.data[t])},reInitTable:function(){this.selected=[];var t=this;$("#"+t.table_id).jqGrid("clearGridData"),$("#"+t.table_id).jqGrid("setGridParam",{data:t.data,datatype:"local"}).trigger("reloadGrid")},updateDetail:function(t){console.log(t.value),window.parent.activeEvent({name:"查看检验项目",url:contextPath+"/quality/quality/inspection-item.html",params:{id:t.rows.id,data:t.value,type:2}})}},watch:{data:{deep:!0,handler:function(){this.reInitTable()}}},mounted:function(){this.initTable(),console.log(this.data)},template:'<div class="jqGrid_wrapper">\n        <table :id="table_id"></table> \n        <div :id="pager_id"></div>\n        </div>'});