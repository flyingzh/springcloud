"use strict";Vue.component("department-select",{props:{config:{type:Object,require:!1,default:function(){return!1}}},data:function(){return{showModal:!0,isAll:!1,selectedList:[],selected:[],body:{name:"",code:""},treeSetting:{callback:{onClick:this.clickEvent}},options:[],temp:[{name:"部门1ddd1",value:11,checked:!1},{name:"部门2s1",value:21,checked:!1},{name:"部门3s1",value:13,checked:!1},{name:"部门4d2",value:24,checked:!1},{name:"部门2s5",value:53,checked:!1},{name:"部门6d1",value:61,checked:!1}]}},methods:{sure:function(){var t=this;this.selectedList.map(function(e){t.selected.push(e.value)}),this.$emit("input",this.selected)},cancel:function(){},clickEvent:function(e,t,i){console.log(e),console.log(t),console.log(i)},doAll:function(){this.isAll?(this.options.map(function(e){e.checked=!0}),this.selectedList=[],this.selectedList=this.selectedList.concat(this.options)):(this.options.forEach(function(e){e.checked=!1}),this.selectedList=[])},del:function(e,t){this.selectedList.splice(t,1);var i=this.options.indexOf(e);this.options[i].checked=!1,this.isAll=!1},doSelect:function(e,t){if(e.checked)this.selectedList.push(this.options[t]);else{var i=this.selectedList.indexOf(e);this.selectedList.splice(i,1),this.isAll=!1}},filter:function(e){var t=this;this.options=this.temp.filter(function(e){return-1<e.name.toString().indexOf(t.body.name)&&-1<e.value.toString().indexOf(t.body.code)}),this.options.some(function(e){if(!e.checked)return!(t.isAll=!1)})}},mounted:function(){this.options=this.temp},template:'<div>\n            <Modal\n         class-name="department-select"\n        v-model="showModal"\n        title="选择部门"\n        @on-ok="sure"\n        @on-cancel="cancel">\n        <div class="content clearfix">\n           <div style="width: 150px; float: left">\n             <ht-tree url="www.my1.com" :setting="treeSetting" tid=\'modal_department\'></ht-tree>\n            </div>\n           <div style="width: 550px; float: left; border: 1px solid #ccc;">\n              <div>\n              <i-form :model="body" :label-width="80">\n                <form-item label="部门名称" style="width: 200px">\n                    <i-input v-model="body.name" @on-change="filter()"></i-input>\n                </form-item>\n                <form-item label="部门编码" style="width: 200px">\n                    <i-input v-model="body.code" @on-change="filter()"></i-input>\n                </form-item>\n                </i-form>\n            </div>\n              <div class="item"><span class="my-checkbox"><Checkbox v-model="isAll" @on-change="doAll"></Checkbox></span><span class="code">部门编码</span><span class="name">部门名称</span></div>\n              <div class="item" v-for="(item, index) in options"><span><Checkbox v-model="item.checked" class="my-checkbox" @on-change="doSelect(item,index)"></Checkbox></span><span class="name">{{item.name}}</span><span class="code">{{item.value}}</span></div>\n            </div>\n            <div style="float: left">\n              <p>选中列表</p>\n              <p v-for="(item, index) in selectedList">{{item.name + \'--\' + item.value}} <i class="ivu-icon ivu-icon-close" @click="del(item, index)"></i></p>\n            </div>\n        </div>\n         <div slot="footer">\n            <Button @click="sure">确定</Button>\n            <Button @click="cancel">取消</Button>\n        </div>\n    </Modal>\n</div>'});