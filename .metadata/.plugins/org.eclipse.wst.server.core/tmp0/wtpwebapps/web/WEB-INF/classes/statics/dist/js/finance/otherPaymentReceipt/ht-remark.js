"use strict";Vue.component("ht-remark",{data:function(){var n=this;return{value:this.recmodal,isHave:"",remarkContent:"",columns1:[{title:"操作",width:100,key:"operate",render:function(t,e){return t("div",[t("Icon",{props:{type:"edit"},style:{marginRight:"10px",padding:"5px"},on:{click:function(){n.editRemark(e)}}}),t("Icon",{props:{type:"close"},style:{padding:"5px"},on:{click:function(){n.delRemark(e.index)}}})])}},{title:"摘要内容",key:"remark",ellipsis:!0}]}},methods:{addRemark:function(){if(/(^\s*$)/.test(this.remarkContent))this.$Message.error({content:"请输入摘要内容",duration:5});else{var t=!0,e=!1,n=void 0;try{for(var r,a=this.remarklist[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if(this.remarkContent.trim()===i.remark)return void this.$Message.error({content:"保存失败,摘要已存在，请重新设置摘要！",duration:5})}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}""===this.isHave?this.remarklist.unshift({remark:this.remarkContent}):(this.remarklist[this.isHave].remark=this.remarkContent,this.isHave=""),this.remarkContent="",this.$Message.success({content:"保存成功",duration:5})}},cancleRemark:function(){this.remarkContent=""},editRemark:function(t){this.remarkContent=t.row.remark,this.isHave=t.index},delRemark:function(t){var e=this;this.$Modal.confirm({title:"系统提示",content:"<p>删除的摘要将不能恢复，请确认是否删除？</p>",okText:"确定",cancelText:"取消",onOk:function(){e.remarklist.splice(t,1),e.$Message.success({content:"删除成功",duration:5})}})},closeModal:function(){this.$parent.isShow=!1}},watch:{recmodal:function(t){this.value=t}},props:["recmodal","remarklist"],template:'\n    <Modal\n        title="凭证摘要库"\n        v-model="value"\n        @on-cancel=\'closeModal\'\n        :mask-closable="false">\n        <p class="remark-title">摘要内容：</p>\n        <Input type="textarea" v-model="remarkContent"></Input>\n        <div class="mg10 text-right">\n            <Button type="primary" @click="addRemark ">保存</Button>\n            <Button type="ghost" @click="cancleRemark" class="">取消</Button>\n        </div>\n        <Table \n            border\n            stripe\n            highlight-row \n            class="clear"\n            height="200" \n            size="small"\n            :columns="columns1" \n            :data="remarklist">\n        </Table>\n        <span slot="footer"></span>\n    </Modal>\n    '});