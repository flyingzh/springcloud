"use strict";Vue.component("ht-treeinc",{props:{url:{type:String,require:!0},setting:{require:!1,type:Object},tid:{require:!1,type:String,default:function(){return"ztree"+Math.random().toString().substring(2,8)}},nodeData:{require:!1,type:Object}},data:function(){return{defaultSetting:{data:{simpleData:{enable:!0}}}}},methods:{loadData:function(){var a=Object.assign({},{callback:this.evalCallback},this.defaultSetting,this.setting),n=this;if(void 0===this.nodeData&&n.url)$.ajax({type:"POST",url:n.url||"./tree_data.json",contentType:"application/json",dataType:"json",success:function(t){n.nodeData=t.data;var e=$.fn.zTree.init($("#"+n.tid),a,n.nodeData);n.$parent.$ztree=e},error:function(t){alert("服务器出错啦!")}});else{var t=$.fn.zTree.init($("#"+this.tid),a,this.nodeData);this.$parent.$ztree=t}},evalCallback:function(){var a=this,n={};return $.each(this.setting.callback,function(t,e){console.log(t,e),n[t]=a.$parent[e]}),n}},mounted:function(){console.log(this.tid),this.loadData()},watch:{nodeData:{handler:function(){this.loadData()}}},template:'  <div>      \n       <ul :id="tid" class="ztree"></ul>\n   </div>'});