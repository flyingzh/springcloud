"use strict";!function(t,e){function p(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function l(t){return r?r(t):"[object Array]"===o.call(t)}function f(t){return"[object Object]"===o.call(t)}function g(t,e){var n;t=t||{},e=e||{};for(n in e)e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function h(t,e,n){var r,o,i=[];if(!t)return i;if(s&&t.map===s)return t.map(e,n);for(r=0,o=t.length;r<o;r++)i[r]=e.call(n,t[r],r,t);return i}function m(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function d(t){var e=y.settings.currency.format;return"function"==typeof t&&(t=t()),p(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:p(e)?y.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var n,y={version:"0.4.1",settings:{currency:{symbol:"",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},s=Array.prototype.map,r=Array.isArray,o=Object.prototype.toString,b=y.unformat=y.parse=function(t,e){if(l(t))return h(t,function(t){return b(t,e)});if("number"==typeof(t=t||0))return t;e=e||".";var n=RegExp("[^0-9-"+e+"]",["g"]);n=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(n)?0:n},c=y.toFixed=function(t,e){e=m(e,y.settings.number.precision);var n=Math.pow(10,e);return(Math.round(y.unformat(t)*n)/n).toFixed(e)},v=y.formatNumber=y.format=function(t,e,n,r){if(l(t))return h(t,function(t){return v(t,e,n,r)});t=b(t);var o=g(f(e)?e:{precision:e,thousand:n,decimal:r},y.settings.number),i=m(o.precision),s=t<0?"-":"",a=parseInt(c(Math.abs(t||0),i),10)+"",u=3<a.length?a.length%3:0;return s+(u?a.substr(0,u)+o.thousand:"")+a.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(i?o.decimal+c(Math.abs(t),i).split(".")[1]:"")},u=y.formatMoney=function(t,e,n,r,o,i){if(l(t))return h(t,function(t){return u(t,e,n,r,o,i)});t=b(t);var s=g(f(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:i},y.settings.currency),a=d(s.format);return(0<t?a.pos:t<0?a.neg:a.zero).replace("%s",s.symbol).replace("%v",v(Math.abs(t),m(s.precision),s.thousand,s.decimal))};y.formatColumn=function(t,e,n,r,o,i){if(!t)return[];var s=g(f(e)?e:{symbol:e,precision:n,thousand:r,decimal:o,format:i},y.settings.currency),a=d(s.format),u=a.pos.indexOf("%s")<a.pos.indexOf("%v"),c=0;return h(t=h(t,function(t){return l(t)?y.formatColumn(t,s):((t=(0<(t=b(t))?a.pos:t<0?a.neg:a.zero).replace("%s",s.symbol).replace("%v",v(Math.abs(t),m(s.precision),s.thousand,s.decimal))).length>c&&(c=t.length),t)}),function(t){return p(t)&&t.length<c?u?t.replace(s.symbol,s.symbol+Array(c-t.length+1).join(" ")):Array(c-t.length+1).join(" ")+t:t})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports.accounting=y):"function"==typeof define&&define.amd?define([],function(){return y}):(y.noConflict=(n=t.accounting,function(){return t.accounting=n,y.noConflict=void 0,y}),t.accounting=y)}(void 0),Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()+""])),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};