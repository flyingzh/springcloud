"use strict";Vue.component("customer-source-list",{props:{config:{type:Object,require:!1,default:function(){return!1}},code:{default:function(){return""}},showModal:{default:function(){return!1}},url:{default:function(){return"/tbasecustomer/list"}}},data:function(){var r=this;return{selected:[],customer:{name:"",code:""},base_customer_config:{colNames:["操作","客户名称","客户编码"],colModel:[{name:"id",index:"invdate",width:100,align:"center",formatter:function(t,e,i,n){return $(document).off("click",".selectCustomer"+i.id).on("click",".selectCustomer"+i.id,function(){r.doSelect(t,e,i,n)}),'<a type="primary" class="selectCustomer'+i.id+'">选取</a>'}},{name:"name",index:"name",width:220,align:"center",sort:!1},{name:"code",index:"code",width:220,align:"center",sort:!1}],jsonReader:{root:"data.list",total:"data.totalPage",records:"data.totalCount",cell:"list"},prmNames:{page:"page",rows:"limit"},mtype:"POST",contentType:"application/json",datatype:"json",styleUI:"Bootstrap",rownumbers:!0,pagination:!0,multiselectWidth:50,viewrecords:!0,rowNum:10,rowList:[10,30,50],pager:"#customer_pager_id",onPaging:function(){}}}},methods:{doSelect:function(t,e,i,n){this.$emit("input",i),this.$emit("sure")},init:function(){jQuery("#customer_table_id").jqGrid(this.base_customer_config)},clear:function(){this.customer={name:"",code:""};var t={postData:Object.assign(this.customer)};jQuery("#customer_table_id").jqGrid("clearGridData"),jQuery("#customer_table_id").jqGrid("setGridParam",t).trigger("reloadGrid")},search:function(){var t=$("#customer_table_id"),e={postData:Object.assign(this.customer)};t.jqGrid("clearGridData"),t.jqGrid("setGridParam",e).trigger("reloadGrid")},reInit:function(){this.base_customer_config.url=contextPath+this.url;var t=$("#jqGrid_customer");t.empty();$("<table id=customer_table_id></table>").appendTo(t),$("<div id=customer_pager_id></div>").appendTo(t),this.init()},cancel:function(){this.clear(),this.$emit("cancel")},changeDate:function(t){this.customer.startTime=t[0].replace(/\//g,"-")+" 00:00:00",this.customer.endTime=t[1].replace(/\//g,"-")+" 23:59:59"}},mounted:function(){this.base_customer_config.url=contextPath+this.url,this.init()},watch:{url:{handler:function(){this.reInit()}}},template:'<div>\n            <Modal\n            @on-ok="doSelect"\n            @on-cancel="cancel"\n        class-name="source-list"\n        v-model="showModal"\n        width="700"\n        title="选择源单信息">\n        <div class="content clearfix">\n           <div style="border: 1px solid #ccc;">\n             <div>\n                  <i-form :model="customer" style="display:inline-block; margin-top: 10px;" :label-width="80">\n                    <form-item label="客户名称">\n                        <i-input v-model="customer.name"></i-input>\n                    </form-item>\n                     <form-item label="客户编码">\n                        <i-input v-model="customer.code"></i-input>\n                    </form-item>\n                    <ht-btns @clear="clear" @search="search"></ht-btns>\n                  </i-form>\n            </div>\n            <div class="jqGrid_wrapper" id="jqGrid_customer">\n                <table id="customer_table_id"></table> \n                <div id="customer_pager_id"></div>\n            </div>\n            </div>\n        </div>\n    </Modal>\n</div>'});