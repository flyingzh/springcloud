"use strict";var reportVue=new Vue({el:"#profit-statement",data:function(){var n=this;return{data_config:{url:contextPath+"/reportProfit/profitStatemen?accountYear=1&accountPeriod=1",mtype:"POST",datatype:"json",styleUI:"Bootstrap",colNames:["项目","行次","本年累计金额","本月金额"],colModel:[{name:"fieldName",width:400,align:"left",formatter:function(t,e,i,a){var o=".detail"+i.id;return 1!=i.isCompute?t:($(document).off("click",o).on("click",o,function(){n.detailClick(i)}),'<div class="detail'+i.id+'">'+i.fieldName+"</div>")}},{name:"lineNum",width:200,align:"center"},{name:"amount1",width:200,align:"center"},{name:"amount2",width:200,align:"center"}],jsonReader:{root:"data",cell:"data",userdata:"userdata",repeatitems:!1},height:$(window).height()-170,rowNum:"999999",pager:"#page",viewrecords:!0},reload:!1,formData:"",dateList:[],editTitle:"",editVisable:!1,reportContentId:0,reportContentName:""}},created:function(){var e=this,t=contextPath+"/reportProfit/accountPeriodList";$.ajax({type:"post",data:"",url:t,analysis:!1,success:function(t){e.dateList=t.data,t.data&&t.data.length&&(e.formData=e.dateList[0].value),e.$nextTick(function(){e.jqGridInit()})},error:function(t){console.log(t)}})},mounted:function(){},methods:{reflistM:function(){this.dateChange()},jqGridInit:function(){console.log("jqGridInit = "+this.formData);var t=this.formData.split("_");this.data_config.url="/web/reportProfit/profitStatemen?accountYear="+t[0]+"&accountPeriod="+t[1],jQuery("#grid").jqGrid(this.data_config)},detailClick:function(t){this.editTitle="编辑公式 - "+t.fieldName,this.editVisable=!0,this.reportContentId=t.id,this.reportContentName=t.fieldName},amountClick:function(t){},editClose:function(){this.editVisable=!1},exportProfitStatemen:function(){console.log("执行导出excel...");var t=this.formData;window.open("/web/reportProfit/exportProfitStatemen?formData="+t)},dateChange:function(){var t=this.formData.split("_");this.data_config.url="/web/reportProfit/profitStatemen?accountYear="+t[0]+"&accountPeriod="+t[1],$("#grid").jqGrid("setGridParam",this.data_config).trigger("reloadGrid")},print:function(){console.log("执行htPrint()"),htPrint()}},watch:{},computed:{}});